<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fotball Trener App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚽</text></svg>">
</head>
<body>
    <!-- Passord-beskyttelse -->
    <div id="passwordProtection">
        <div class="login-container">
            <div class="login-logo">
                <div class="club-badge">
                    ⚽
                </div>
                <h1>Fotball Trener App</h1>
                <p>For Egge IL & Sørlia IL</p>
            </div>
            
            <div class="password-input-container">
                <input type="password" id="passwordInput" placeholder="Skriv inn passord">
                <button id="showPasswordBtn" class="show-password-btn">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
            
            <button id="loginBtn" class="btn-primary">
                <i class="fas fa-lock-open"></i> Logg inn
            </button>
            
            <div id="passwordError" class="error-message">
                Feil passord! Prøv igjen.
            </div>
            
            <div style="margin-top: 20px; font-size: 12px; color: #666;">
                <i class="fas fa-info-circle"></i> Passord: 1234
            </div>
        </div>
    </div>

    <!-- Hovedapp -->
    <div id="mainApp" style="display: none;">
        <!-- Header med logo -->
        <header class="app-header">
            <div id="logoContainer">
                <!-- Logo blir satt her dynamisk -->
            </div>
            <div class="header-actions">
                <button id="refreshBtn" class="btn-secondary" title="Oppdater appen">
                    <i class="fas fa-sync-alt"></i>
                </button>
                <button id="logoutBtn" class="btn-secondary">
                    <i class="fas fa-sign-out-alt"></i> Logg ut
                </button>
            </div>
        </header>

        <!-- Navigasjon -->
        <nav class="app-nav">
            <button class="nav-btn active" data-tab="players">
                <i class="fas fa-users"></i> Spillere
            </button>
            <button class="nav-btn" data-tab="training">
                <i class="fas fa-running"></i> Trening
            </button>
            <button class="nav-btn" data-tab="match">
                <i class="fas fa-futbol"></i> Kamp
            </button>
            <button class="nav-btn" data-tab="liga">
                <i class="fas fa-trophy"></i> Liga
            </button>
        </nav>

        <!-- Innhold -->
        <main>
            <!-- SPILLERE TAB -->
            <div id="players" class="tab-content active">
                <div class="tab-header">
                    <h2><i class="fas fa-users"></i> Spillerhåndtering</h2>
                    <p class="tab-description">Legg til, rediger eller fjern spillere. Spillere får nivå 1-6 bak kulissene, men dette vises ikke for foreldre.</p>
                </div>

                <!-- Legg til spiller form -->
                <div class="player-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="playerName">Spillerens navn:</label>
                            <input type="text" id="playerName" placeholder="Feks: Per Hansen">
                        </div>
                        <div class="form-group">
                            <label for="playerSkill">Ferdighetsnivå (bak kulissene):</label>
                            <select id="playerSkill">
                                <option value="1">1 - Nybegynner</option>
                                <option value="2">2 - Litt erfaring</option>
                                <option value="3" selected>3 - Middels</option>
                                <option value="4">4 - God</option>
                                <option value="5">5 - Veldig god</option>
                                <option value="6">6 - Avansert</option>
                            </select>
                        </div>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="playerGoalie">
                        <label for="playerGoalie">Denne spilleren liker å stå i mål</label>
                    </div>
                    <button id="addPlayerBtn" class="btn-primary" style="margin-top: 15px;">
                        <i class="fas fa-user-plus"></i> Legg til spiller
                    </button>
                </div>

                <!-- Spillerliste -->
                <div class="player-list-container">
                    <div class="player-list-header">
                        <div class="player-stats">
                            <div class="stat-item">
                                <div class="stat-value" id="totalPlayers">0</div>
                                <div class="stat-label">Totalt</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="totalGoalies">0</div>
                                <div class="stat-label">Målvakter</div>
                            </div>
                        </div>
                        <div class="list-actions">
                            <button id="exportBtn" class="btn-secondary">
                                <i class="fas fa-download"></i> Eksport
                            </button>
                            <button id="importBtn" class="btn-secondary">
                                <i class="fas fa-upload"></i> Import
                            </button>
                            <input type="file" id="importFile" accept=".json" style="display: none;">
                            <button id="clearAllBtn" class="btn-secondary btn-danger">
                                <i class="fas fa-trash"></i> Slett alle
                            </button>
                        </div>
                    </div>
                    <div id="playerList">
                        <!-- Spillere vises her -->
                    </div>
                </div>
            </div>

            <!-- TRENING TAB -->
            <div id="training" class="tab-content">
                <div class="tab-header">
                    <h2><i class="fas fa-running"></i> Treningsgrupper</h2>
                    <p class="tab-description">Lag balanserte treningsgrupper der de beste spillerne trener sammen (gruppe A).</p>
                </div>

                <!-- Spillerutvalg -->
                <div class="player-selection-container">
                    <div class="selection-header">
                        <div class="selection-count">
                            <span>Valgte spillere:</span>
                            <div class="count-badge" id="trainingSelectedCount">0</div>
                        </div>
                        <div class="selection-actions">
                            <button id="selectAllTraining" class="btn-secondary">
                                <i class="fas fa-check-square"></i> Velg alle
                            </button>
                            <button id="deselectAllTraining" class="btn-secondary">
                                <i class="fas fa-square"></i> Fjern alle
                            </button>
                        </div>
                    </div>
                    <div id="trainingPlayerSelection" class="player-selection">
                        <!-- Spillere for trening vises her -->
                    </div>
                </div>

                <!-- Innstillinger -->
                <div class="group-settings">
                    <div class="settings-row">
                        <div class="settings-label">Antall grupper:</div>
                        <div class="number-control">
                            <button class="number-btn minus" data-for="trainingGroups">−</button>
                            <input type="number" id="trainingGroups" class="number-input" value="3" min="2" max="6">
                            <button class="number-btn plus" data-for="trainingGroups">+</button>
                        </div>
                    </div>
                    <button id="createTrainingGroupsBtn" class="btn-primary" style="width: 100%;">
                        <i class="fas fa-users"></i> Lag treningsgrupper
                    </button>
                </div>

                <!-- Resultater -->
                <div class="results-container">
                    <h3 style="margin-bottom: 15px;">Resultater</h3>
                    <div id="trainingResults">
                        <!-- Grupper vises her -->
                    </div>
                </div>
            </div>

            <!-- KAMP TAB -->
            <div id="match" class="tab-content">
                <div class="tab-header">
                    <h2><i class="fas fa-futbol"></i> Kampoppsett</h2>
                    <p class="tab-description">Lag jevne lag for kamper med balansert fordeling av ferdigheter.</p>
                </div>

                <!-- Spillerutvalg -->
                <div class="player-selection-container">
                    <div class="selection-header">
                        <div class="selection-count">
                            <span>Valgte spillere:</span>
                            <div class="count-badge" id="matchSelectedCount">0</div>
                        </div>
                        <div class="selection-actions">
                            <button id="selectAllMatch" class="btn-secondary">
                                <i class="fas fa-check-square"></i> Velg alle
                            </button>
                            <button id="deselectAllMatch" class="btn-secondary">
                                <i class="fas fa-square"></i> Fjern alle
                            </button>
                        </div>
                    </div>
                    <div id="matchPlayerSelection" class="player-selection">
                        <!-- Spillere for kamp vises her -->
                    </div>
                </div>

                <!-- Innstillinger -->
                <div class="group-settings">
                    <div class="settings-row">
                        <div class="settings-label">Antall lag:</div>
                        <div class="number-control">
                            <button class="number-btn minus" data-for="matchTeams">−</button>
                            <input type="number" id="matchTeams" class="number-input" value="2" min="2" max="5">
                            <button class="number-btn plus" data-for="matchTeams">+</button>
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="checkbox-control">
                            <input type="checkbox" id="allowTeamsWithoutGoalies" checked>
                            <label for="allowTeamsWithoutGoalies">Tillag lag uten målvakter</label>
                        </div>
                    </div>
                    <button id="createMatchTeamsBtn" class="btn-primary" style="width: 100%;">
                        <i class="fas fa-tshirt"></i> Lag kampoppsett
                    </button>
                </div>

                <!-- Resultater -->
                <div class="results-container">
                    <h3 style="margin-bottom: 15px;">Kampoppsett</h3>
                    <div id="matchResults">
                        <!-- Lag vises her -->
                    </div>
                </div>
            </div>

            <!-- LIGA TAB -->
            <div id="liga" class="tab-content">
                <div class="tab-header">
                    <h2><i class="fas fa-trophy"></i> Ligaspill</h2>
                    <p class="tab-description">Organiser et ligaspill med flere lag og hold oversikt over resultater.</p>
                </div>

                <!-- Oppstart -->
                <div class="group-settings">
                    <div class="settings-row">
                        <div class="settings-label">Antall lag:</div>
                        <div class="number-control">
                            <button class="number-btn minus" data-for="ligaTeams">−</button>
                            <input type="number" id="ligaTeams" class="number-input" value="3" min="2" max="5">
                            <button class="number-btn plus" data-for="ligaTeams">+</button>
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-label">Kamper per lagpar:</div>
                        <div class="number-control">
                            <button class="number-btn minus" data-for="ligaRounds">−</button>
                            <input type="number" id="ligaRounds" class="number-input" value="2" min="1" max="5">
                            <button class="number-btn plus" data-for="ligaRounds">+</button>
                        </div>
                    </div>
                    
                    <!-- Lag-navn -->
                    <div id="ligaTeamNames" class="team-name-inputs">
                        <!-- Lag-navn inputs vises her -->
                    </div>
                    
                    <div class="form-row" style="margin-top: 20px;">
                        <button id="startLigaBtn" class="btn-primary">
                            <i class="fas fa-play"></i> Start liga
                        </button>
                        <button id="resetLigaBtn" class="btn-secondary btn-danger">
                            <i class="fas fa-trash"></i> Nullstill liga
                        </button>
                    </div>
                </div>

                <!-- Kamper -->
                <div class="matches-container">
                    <h3 style="margin-bottom: 15px;">Kampprogram</h3>
                    <div id="ligaMatches">
                        <!-- Kamper vises her -->
                    </div>
                </div>

                <!-- Tabell -->
                <div class="table-container">
                    <h3 style="margin-bottom: 15px;">Ligatabell</h3>
                    <div id="ligaTable">
                        <!-- Tabell vises her -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Notifikasjoner -->
        <div id="notification" class="notification"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
